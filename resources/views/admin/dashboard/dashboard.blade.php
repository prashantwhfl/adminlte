@extends('admin.layouts.default')
@section('content')

<!--begin::Content-->
<div class="content  d-flex flex-column flex-column-fluid" id="kt_content">
	<!--begin::Subheader-->
	<div class="subheader py-2 py-lg-4  subheader-solid " id="kt_subheader">
		<div
			class=" container-fluid  d-flex align-items-center justify-content-between flex-wrap flex-sm-nowrap">

			<!--begin::Info-->
			<div class="d-flex align-items-center flex-wrap mr-1">

				<!--begin::Page Heading-->
				<div class="d-flex align-items-baseline flex-wrap mr-5">
					<!--begin::Page Title-->
					<h5 class="text-dark font-weight-bold my-1 mr-5">Dashboard </h5>
					<!--end::Page Title-->
					

					<!--begin::Breadcrumb-->
					<!--end::Breadcrumb-->
				</div>
				<!--end::Page Heading-->
			</div>
			<!--end::Info-->
		
		</div>
	</div>
	<!--end::Subheader-->

	<!--begin::Entry-->
	<div class="d-flex flex-column-fluid">
		<!--begin::Container-->
		<div class=" container ">
			<div class="row">
				<div class="col-lg-3">
					<!--begin::Stats Widget 13-->
					<a href="#" class="card card-custom bg-danger bg-hover-state-danger card-stretch gutter-b">
						<!--begin::Body-->
						<div class="card-body">
							<span class="svg-icon svg-icon-white svg-icon-3x ml-n1">
								<!--begin::Svg Icon | path:/metronic/theme/html/demo1/dist/assets/media/svg/icons/Shopping/Cart3.svg-->
								<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
									<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
										<polygon points="0 0 24 0 24 24 0 24" />
										<path d="M12,11 C9.790861,11 8,9.209139 8,7 C8,4.790861 9.790861,3 12,3 C14.209139,3 16,4.790861 16,7 C16,9.209139 14.209139,11 12,11 Z" fill="#000000" fill-rule="nonzero" opacity="0.3" />
										<path d="M3.00065168,20.1992055 C3.38825852,15.4265159 7.26191235,13 11.9833413,13 C16.7712164,13 20.7048837,15.2931929 20.9979143,20.2 C21.0095879,20.3954741 20.9979143,21 20.2466999,21 C16.541124,21 11.0347247,21 3.72750223,21 C3.47671215,21 2.97953825,20.45918 3.00065168,20.1992055 Z" fill="#000000" fill-rule="nonzero" />
									</g>
								</svg>
								<!--end::Svg Icon-->
							</span>
							<!--<span class="symbol symbol-light-success symbol-45 statsCount">
								<span class="symbol-label font-weight-bolder font-size-h6">+17</span>
							</span>-->
							<div class="card-title font-weight-bolder text-light font-size-h2 mb-0 mt-6 d-block">
							10</div>
							<div class="font-weight-bold text-light  font-size-sm">Card Title</div>
						</div>
						<!--end::Body-->
					</a>
					<!--end::Stats Widget 13-->
				</div>
				<div class="col-lg-3">
					<!--begin::Stats Widget 13-->
					<a href="#" class="card card-custom bg-success bg-hover-state-success card-stretch gutter-b">
						<!--begin::Body-->
						<div class="card-body">
							<span class="svg-icon svg-icon-white svg-icon-3x ml-n1">
								<!--begin::Svg Icon | path:/metronic/theme/html/demo1/dist/assets/media/svg/icons/Shopping/Cart3.svg-->
								<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
									<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
										<polygon points="0 0 24 0 24 24 0 24" />
										<path d="M12,11 C9.790861,11 8,9.209139 8,7 C8,4.790861 9.790861,3 12,3 C14.209139,3 16,4.790861 16,7 C16,9.209139 14.209139,11 12,11 Z" fill="#000000" fill-rule="nonzero" opacity="0.3" />
										<path d="M3.00065168,20.1992055 C3.38825852,15.4265159 7.26191235,13 11.9833413,13 C16.7712164,13 20.7048837,15.2931929 20.9979143,20.2 C21.0095879,20.3954741 20.9979143,21 20.2466999,21 C16.541124,21 11.0347247,21 3.72750223,21 C3.47671215,21 2.97953825,20.45918 3.00065168,20.1992055 Z" fill="#000000" fill-rule="nonzero" />
									</g>
								</svg>
								<!--end::Svg Icon-->
							</span>
							<!--<span class="symbol symbol-light-success symbol-45 statsCount">
								<span class="symbol-label font-weight-bolder font-size-h6">+17</span>
							</span>-->
							<div class="card-title font-weight-bolder text-light font-size-h2 mb-0 mt-6 d-block">
							20</div>
							<div class="font-weight-bold text-light  font-size-sm">Card Title </div>
						</div>
						<!--end::Body-->
					</a>
					<!--end::Stats Widget 13-->
				</div>
				<div class="col-lg-3">
					<!--begin::Stats Widget 13-->
					<a href="#" class="card card-custom bg-primary bg-hover-state-primary card-stretch gutter-b">
						<!--begin::Body-->
						<div class="card-body">
							<span class="svg-icon svg-icon-white svg-icon-3x ml-n1">
								<!--begin::Svg Icon | path:/metronic/theme/html/demo1/dist/assets/media/svg/icons/Shopping/Cart3.svg-->
								<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
									<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
										<polygon points="0 0 24 0 24 24 0 24" />
										<path d="M12,11 C9.790861,11 8,9.209139 8,7 C8,4.790861 9.790861,3 12,3 C14.209139,3 16,4.790861 16,7 C16,9.209139 14.209139,11 12,11 Z" fill="#000000" fill-rule="nonzero" opacity="0.3" />
										<path d="M3.00065168,20.1992055 C3.38825852,15.4265159 7.26191235,13 11.9833413,13 C16.7712164,13 20.7048837,15.2931929 20.9979143,20.2 C21.0095879,20.3954741 20.9979143,21 20.2466999,21 C16.541124,21 11.0347247,21 3.72750223,21 C3.47671215,21 2.97953825,20.45918 3.00065168,20.1992055 Z" fill="#000000" fill-rule="nonzero" />
									</g>
								</svg>
								<!--end::Svg Icon-->
							</span>
							<!--<span class="symbol symbol-light-success symbol-45 statsCount">
								<span class="symbol-label font-weight-bolder font-size-h6">+17</span>
							</span>-->
							<div class="card-title font-weight-bolder text-light font-size-h2 mb-0 mt-6 d-block">
							20</div>
							<div class="font-weight-bold text-light  font-size-sm">Card Title</div>
						</div>
						<!--end::Body-->
					</a>
					<!--end::Stats Widget 13-->
				</div>
				<div class="col-lg-3">
					<!--begin::Stats Widget 13-->
					<a href="#" class="card card-custom bg-info bg-hover-state-info card-stretch gutter-b">
						<!--begin::Body-->
						<div class="card-body">
							<span class="svg-icon svg-icon-white svg-icon-3x ml-n1">
								<!--begin::Svg Icon | path:/metronic/theme/html/demo1/dist/assets/media/svg/icons/Shopping/Cart3.svg-->
								<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
									<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
										<polygon points="0 0 24 0 24 24 0 24" />
										<path d="M12,11 C9.790861,11 8,9.209139 8,7 C8,4.790861 9.790861,3 12,3 C14.209139,3 16,4.790861 16,7 C16,9.209139 14.209139,11 12,11 Z" fill="#000000" fill-rule="nonzero" opacity="0.3" />
										<path d="M3.00065168,20.1992055 C3.38825852,15.4265159 7.26191235,13 11.9833413,13 C16.7712164,13 20.7048837,15.2931929 20.9979143,20.2 C21.0095879,20.3954741 20.9979143,21 20.2466999,21 C16.541124,21 11.0347247,21 3.72750223,21 C3.47671215,21 2.97953825,20.45918 3.00065168,20.1992055 Z" fill="#000000" fill-rule="nonzero" />
									</g>
								</svg>
								<!--end::Svg Icon-->
							</span>
							<!--<span class="symbol symbol-light-success symbol-45 statsCount">
								<span class="symbol-label font-weight-bolder font-size-h6">+17</span>
							</span>-->
							<div class="card-title font-weight-bolder text-light font-size-h2 mb-0 mt-6 d-block">
							20</div>
							<div class="font-weight-bold text-light  font-size-sm">Card Title</div>
						</div>
						<!--end::Body-->
					</a>
					<!--end::Stats Widget 13-->
				</div>
			</div>
			<!-- <div class="row">
				<div class="col-xl-12">
					<div class="card card-custom gutter-b card-stretch gutter-b">
						<div class="card-header h-auto border-0">
							<h3> <br>Users </h3>
						</div>
						<div class="card-body">
							<div class="row">
								<div class="col-lg-12">
									<div id="kt_charts_widget_5_chart"></div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
 -->
			<?php /* <div class="row">
				<div class="col-12">
					<div class="card card-custom gutter-b">
						<!--begin::Header-->
						<div class="card-header border-0 py-5">
							<h3 class="card-title align-items-start flex-column">
								<span class="card-label font-weight-bolder text-dark">Recent
									Customers</span>
									<span class="text-muted mt-3 font-weight-bold font-size-sm">More than
									{{$totalCustomer}}+ customers</span>
							</h3>
							<div class="card-toolbar">
								<a href="{{ route('Users.index')}}"
									class="btn btn-info font-weight-bolder font-size-sm mr-3">View
									All</a>
							</div>
						</div>
						<!--end::Header-->
						<!--begin::Body-->
						<div class="card-body pt-0 pb-3">
							<div class="tab-content">
								<!--begin::Table-->
								<div class="table-responsive">
									<table
										class="table table-head-custom table-head-bg table-borderless table-vertical-center">
										<thead>
											<tr class="text-left text-uppercase">
												<th>
													<span class="text-dark-75">SN</span>
												</th>
												<th style="min-width: 250px" class="pl-7">
													<span class="text-dark-75">Business Name</span>
												</th>
												<th style="min-width: 250px" class="pl-7">
													<span class="text-dark-75">Corporate Name</span>
												</th>
												<th style="min-width: 100px">
													<span class="text-dark-75">Membership Date</span>
												</th>
												<th style="min-width: 100px">
													<span class="text-dark-75">Registered On</span>
												</th>
												<th style="min-width: 100px">
													<span class="text-dark-75">Status</span>
												</th>
											</tr>
										</thead>
										<tbody>
											@if(!empty($lastThreeCustomers))
												<?php $counter = 1; ?>
												@foreach($lastThreeCustomers as $customer)
													<tr>
														<td>
															<div class="symbol symbol-30 symbol-light mr-4">
																<span
																	class="symbol-label font-weight-bold text-dark-75">
																	{{$counter}}
																</span>
															</div>
														</td>
														<td class="pl-0 py-8">
															<div class="d-flex align-items-center">
																<div
																	class="text-muted font-weight-bold d-block">
																	{{$customer["business_name"]}}
																</div>
															</div>
														</td>
														<td class="pl-0 py-8">
															<div class="d-flex align-items-center">
																<div
																	class="text-muted font-weight-bold d-block">
																	{{$customer["corporate_name"]}}
																</div>
															</div>
														</td>
														<td>
															<div class="d-flex align-items-center">
																<div
																	class="text-muted font-weight-bold d-block">
																		{{ date(config::get("Reading.date_format"),strtotime($customer["membership_date"])) }}
																</div>
															</div>
														</td>
														<td>
															<div class="d-flex align-items-center">
																<div
																	class="text-muted font-weight-bold d-block">
																		{{ date(config::get("Reading.date_format"),strtotime($customer["created_at"])) }}
																</div>
															</div>
														</td>
														<td>
															@if($customer["is_active"] == 1)
															<span
																class="label label-lg label-light-success label-inline">Active</span>
															@else
																<span
																class="label label-lg label-light-danger label-inline">Deactive</span>
															@endif
														</td>
													</tr>
												<?php $counter++; ?>
												@endforeach
											@else
												<tr>
													<td colspan="5">
														<div class="symbol symbol-30 symbol-light mr-4">
															<span
																class="symbol-label font-weight-bold text-dark-75">
																Record not found.
															</span>
														</div>
													</td>
												</tr>
											@endif
										</tbody>
									</table>
								</div>
								<!--end::Table-->
							</div>
						</div>
						<!--end::Body-->
					</div>
				</div>
			</div>


			<div class="row">
				<div class="col-12">
					<div class="card card-custom gutter-b">
						<!--begin::Header-->
						<div class="card-header border-0 py-5">
							<h3 class="card-title align-items-start flex-column">
								<span class="card-label font-weight-bolder text-dark">Recent
									Vendors</span>
									<span class="text-muted mt-3 font-weight-bold font-size-sm">More than
									{{$totalVendor}}+ vendors</span>
							</h3>
							<div class="card-toolbar">
								<a href="{{ route('Vendors.index')}}"
									class="btn btn-info font-weight-bolder font-size-sm mr-3">View
									All</a>
							</div>
						</div>
						<!--end::Header-->
						<!--begin::Body-->
						<div class="card-body pt-0 pb-3">
							<div class="tab-content">
								<!--begin::Table-->
								<div class="table-responsive">
									<table
										class="table table-head-custom table-head-bg table-borderless table-vertical-center">
										<thead>
											<tr class="text-left text-uppercase">
												<th>
													<span class="text-dark-75">SN</span>
												</th>
												<th style="min-width: 250px" class="pl-7">
													<span class="text-dark-75">Business Name</span>
												</th>
												<th style="min-width: 250px" class="pl-7">
													<span class="text-dark-75">Corporate Name</span>
												</th>
												<th style="min-width: 100px">
													<span class="text-dark-75">Type</span>
												</th>
												<th style="min-width: 100px">
													<span class="text-dark-75">Registered On</span>
												</th>
												<th style="min-width: 100px">
													<span class="text-dark-75">Status</span>
												</th>
											</tr>
										</thead>
										<tbody>
											@if(!empty($lastThreeVendors))
												<?php $counter = 1; ?>
												@foreach($lastThreeVendors as $vendor)
													<tr>
														<td>
															<div class="symbol symbol-30 symbol-light mr-4">
																<span
																	class="symbol-label font-weight-bold text-dark-75">
																	{{$counter}}
																</span>
															</div>
														</td>
														<td class="pl-0 py-8">
															<div class="d-flex align-items-center">
																<div
																	class="text-muted font-weight-bold d-block">
																	{{$vendor["business_name"]}}
																</div>
															</div>
														</td>
														<td class="pl-0 py-8">
															<div class="d-flex align-items-center">
																<div
																	class="text-muted font-weight-bold d-block">
																	{{$vendor["corporate_name"]}}
																</div>
															</div>
														</td>
														<td>
															<div class="d-flex align-items-center">
																<div
																	class="text-muted font-weight-bold d-block">
																		{{ ucfirst($vendor["type"]) }}
																</div>
															</div>
														</td>
														<td>
															<div class="d-flex align-items-center">
																<div
																	class="text-muted font-weight-bold d-block">
																		{{ date(config::get("Reading.date_format"),strtotime($vendor["created_at"])) }}
																</div>
															</div>
														</td>
														<td>
															@if($vendor["is_active"] == 1)
															<span
																class="label label-lg label-light-success label-inline">Active</span>
															@else
																<span
																class="label label-lg label-light-danger label-inline">Deactive</span>
															@endif
														</td>
													</tr>
												<?php $counter++; ?>
												@endforeach
											@else
												<tr>
													<td colspan="5">
														<div class="symbol symbol-30 symbol-light mr-4">
															<span
																class="symbol-label font-weight-bold text-dark-75">
																Record not found.
															</span>
														</div>
													</td>
												</tr>
											@endif
										</tbody>
									</table>
								</div>
								<!--end::Table-->
							</div>
						</div>
						<!--end::Body-->
					</div>
				</div>
			</div> */ ?>
		</div>
		<!--end::Container-->
	</div>
	<!--end::Entry-->
</div>
<!--end::Content-->

<script>
var allyser = [
		<?php
			if(!empty($allUsers)){
				foreach($allUsers as $allUserss){
					?>
					 [<?php echo $allUserss['month']?>, <?php echo $allUserss['users']; ?>],
					<?php
				}
			}
		?>
		];
	
	var headquarter = [
		<?php
			if(!empty($allUsers)){
				foreach($allUsers as $allUserss){
					?>
					 [<?php echo $allUserss['month']?>, <?php echo $allUserss['headquarter']; ?>],
					<?php
				}
			}
		?>
		];
	var chainedLocation = [
		<?php
			if(!empty($allUsers)){
				foreach($allUsers as $allUserss){
					?>
					 [<?php echo $allUserss['month']?>, <?php echo $allUserss['chained_location']; ?>],
					<?php
				}
			}
		?>
		];

	var singleLocation = [
		<?php
			if(!empty($allUsers)){
				foreach($allUsers as $allUserss){
					?>
					 [<?php echo $allUserss['month']?>, <?php echo $allUserss['single_location']; ?>],
					<?php
				}
			}
		?>
		];

	var corporatechef = [
		<?php
			if(!empty($allUsers)){
				foreach($allUsers as $allUserss){
					?>
					 [<?php echo $allUserss['month']?>, <?php echo $allUserss['corporate_chef']; ?>],
					<?php
				}
			}
		?>
		];

	var chainsupervisor = [
		<?php
			if(!empty($allUsers)){
				foreach($allUsers as $allUserss){
					?>
					 [<?php echo $allUserss['month']?>, <?php echo $allUserss['chain_supplier']; ?>],
					<?php
				}
			}
		?>
		];
	$(document).ready(function(){
		var _initChartsWidget5 = function () {
			var element = document.getElementById("kt_charts_widget_5_chart");
			if (!element) {
				return;
			}
			var options = {
				series: [
					{
						name: 'Total Users',
						data: allyser
					}
				],
				chart: {
          			type: 'bar',
					height: 350,
					toolbar: {
						show: false
					}
				},
				plotOptions: {
					bar: {
					// 	horizontal: false,
					// 	columnWidth: '70%',
					// 	barHeight: '70%',
					// 	distributed: false,
					// 	rangeBarOverlap: true,
					// 	rangeBarGroupRows: false,
					// 	colors: {
					// 		ranges: [{
					// 			from: 0,
					// 			to: 0,
					// 			color: undefined
					// 		}],
					// 		backgroundBarColors: [],
					// 		backgroundBarOpacity: 1,
					// 		backgroundBarRadius: 0,
					// 	},
					// 	dataLabels: {
					// 		position: 'top',
					// 		maxItems: 100,
					// 		hideOverflowingLabels: true,
 					// 	}
						// stacked: true,
						horizontal: false,
						// endingShape: 'rounded',
						columnWidth: ['12%']
					},
				},
				legend: {
					show: false
				},
				dataLabels: {
					enabled: false
				},
				stroke: {
					// curve: 'smooth',
					show: true,
					width: 2,
					colors: ['transparent']
				},
				xaxis: {
					type: 'datetime',
					//categories: ['Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul'],
					axisBorder: {
						show: false,
					},
					axisTicks: {
						show: false
					},
					labels: {
						style: {
							colors: KTApp.getSettings()['colors']['gray']['gray-500'],
							fontSize: '12px',
							fontFamily: KTApp.getSettings()['font-family']
						},
						offsetX: 10,
						formatter: function (value, timestamp) {
							var now = new Date(timestamp);
							day 	= "" + now.getDate(); if (day.length == 1) { day = "0" + day; }
							var montharray=new Array("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec")
							return day+" "+montharray[now.getMonth()];
						},
					}
				},
				yaxis: {
					//max: 120,
					labels: {
						style: {
							colors: KTApp.getSettings()['colors']['gray']['gray-500'],
							fontSize: '12px',
							fontFamily: KTApp.getSettings()['font-family']
						},
						formatter: function(val, index) {
							return Math.round(val);
						}
					}
				},
				fill: {
					opacity: 1
				},
				states: {
					normal: {
						filter: {
							type: 'none',
							value: 0
						}
					},
					hover: {
						filter: {
							type: 'none',
							value: 0
						}
					},
					active: {
						allowMultipleDataPointsSelection: false,
						filter: {
							type: 'none',
							value: 0
						}
					}
				},
				tooltip: {
					style: {
						fontSize: '12px',
						fontFamily: KTApp.getSettings()['font-family']
					},
					y: {
						formatter: function (val) {
							return val
						}
					}
				},
				
				colors: [
					KTApp.getSettings()['colors']['theme']['base']['info'], KTApp.getSettings()['colors']['theme']['base']['primary'], KTApp.getSettings()['colors']['theme']['light']['primary']],
				// colors: [
				// 	'#f64e60',
				// 	'#31c6bd',
				// 	'#3698ff',
				// 	'#8950fc',
				// 	'#faa800',
				// ],
				grid: {
					borderColor: KTApp.getSettings()['colors']['gray']['gray-200'],
					strokeDashArray: 4,
					yaxis: {
						lines: {
							show: true
						}
					},
					padding: {
						top: 0,
						right: 0,
						bottom: 0,
						left: 0
					}
				}
			};
			
			var chart = new ApexCharts(element, options);
			chart.render();
		}
		_initChartsWidget5();
	});
</script>

@stop